// ColouredBallMap.p5 - Roy Mallick
// Uses the power of various electrodes and brainwaves to draw coloured balls onto the canvas, creating a bubbly picture of brain activity


class MySketch extends React.Component {
 setup(p5, whereToPlot) {
   p5.createCanvas(500, 500).parent(whereToPlot)
   p5.background(0)
   p5.frameRate(5)
   
   OneMap = 0;   
   TwoMap = 0;
   ThreeMap = 0;
   FourMap = 0;

   p5.noStroke();

}

 draw(p5) {

   HEIGHT = p5.height
   WIDTH = p5.width;

   // Availalable EEG Variables:
   // Electrodes 0, 1, 2, 3
   // Delta, Theta, Alpha, Beta, Gamma
   
   //These are the program inputs, can be changed depending on what you want to display
   //i.e. If you want to display alpha power of various electrodes, keep as is
   //If you want to display the power of various electrodes for a different brainwave, replace the 'alpha' in ONE-FOUR
   //If you want to display the power of various brainwaves for the same electrode, replace each [x] with the electrode you desire, and replace 'alpha' with the brainwaves you want to display
   //Etc Etc
   //ONE by default changes the colour from blue to pink, with purple in the middle. Blue = low value, Purple = middle value, Pink = high value
   //TWO determines where the circle is drawn on the x axis
   //THREE determines where the circle is drawn on the y axis
   //FOUR determines where the size of the circle
   ONE = brain.current.bands.data.alpha[0] * 10;
   TWO = brain.current.bands.data.theta[1] * 10;
   THREE = brain.current.bands.data.delta[2] * 10;   
   FOUR =  brain.current.bands.data.beta[3] * 10;
   
   
   //This part simply maps the ONE-FOUR values onto the ranges needed to work for the program
   OneMap = p5.map(ONE, 5, 40, 0, 255, true)
   TwoMap = p5.map(TWO, 5, 40, 0, WIDTH, true)
   ThreeMap = p5.map(THREE, 5, 40, 0, HEIGHT, true)
   FourMap = p5.map(THREE, 5, 40, 50, 250, true)
   //Default fill colours produce a contrasting, bubblegum like image. If desired, OneCMAP can be changed to fill the green or blue positions instead of the red one. This may produce all sorts of colour ranges. It is reccomended not to use more than one variable to determine colour, as the colours quickly become random with no sensible way to interpret them.
   p5.fill(OneMap, 0, 255);
   p5.ellipse(TwoMap, ThreeMap, FourMap);
   
   
      
 }

 render() {
   return (
      <Sketch
        setup={this.setup}
        draw={this.draw}
      />
   )
 }

}

render (
 <MySketch />
)

    
 
